{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mrpat\\\\eduonix\\\\MERN FULL STACK\\\\Task Collaboration Platform\\\\client\\\\src\\\\components\\\\model\\\\UpdateUserModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Modal, Upload, Button, Image } from \"antd\";\nimport { UploadOutlined, CameraOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateUserModal = ({\n  visible,\n  onClose\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Handle File Change in Upload Component\n  const handleFileChange = ({\n    file\n  }) => {\n    if (file.originFileObj) {\n      setFile(file.originFileObj);\n      setPreviewImage(URL.createObjectURL(file.originFileObj));\n    }\n  };\n\n  // Handle File Upload API Call\n  const handleUpload = async () => {\n    if (!file) {\n      return alert(\"Please select a file!\");\n    }\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"profileImage\", file);\n    try {\n      await axios.post(\"http://localhost:5000/api/update-user\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      alert(\"Upload Successful!\");\n      onClose(); // Close modal on success\n    } catch (error) {\n      console.error(\"Upload Error:\", error);\n      alert(\"Upload Failed!\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: \"Update Profile Image\",\n    open: visible,\n    onCancel: onClose,\n    onOk: handleUpload,\n    confirmLoading: loading,\n    okText: \"Upload\",\n    cancelText: \"Cancel\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Upload, {\n      listType: \"picture-card\",\n      maxCount: 1,\n      showUploadList: false,\n      beforeUpload: () => false // Prevent automatic upload\n      ,\n      onChange: handleFileChange,\n      style: {\n        textAlign: \"center\"\n      },\n      children: previewImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          display: \"inline-block\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: previewImage,\n          alt: \"Preview\",\n          style: {\n            width: \"100%\",\n            borderRadius: \"10px\",\n            boxShadow: \"0px 4px 10px rgba(0,0,0,0.2)\",\n            cursor: \"pointer\"\n          },\n          onClick: () => setPreviewVisible(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            bottom: \"5px\",\n            right: \"5px\",\n            background: \"rgba(0, 0, 0, 0.5)\",\n            color: \"#fff\",\n            padding: \"5px\",\n            borderRadius: \"5px\",\n            fontSize: \"12px\",\n            cursor: \"pointer\"\n          },\n          onClick: () => setPreviewVisible(true),\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(CameraOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }, this),\n        style: {\n          width: \"100%\",\n          height: \"100px\",\n          background: \"#f5f5f5\",\n          border: \"1px dashed #d9d9d9\",\n          borderRadius: \"10px\",\n          boxShadow: \"0px 4px 6px rgba(0,0,0,0.1)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          fontSize: \"16px\",\n          fontWeight: \"bold\",\n          color: \"#555\"\n        },\n        children: \"Upload Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: previewVisible,\n      footer: null,\n      onCancel: () => setPreviewVisible(false),\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: previewImage,\n        alt: \"Preview\",\n        style: {\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdateUserModal, \"jd99JEeIY8O20wX6BxqPwl5ju/Q=\");\n_c = UpdateUserModal;\nexport default UpdateUserModal;\nvar _c;\n$RefreshReg$(_c, \"UpdateUserModal\");","map":{"version":3,"names":["React","useState","Modal","Upload","Button","Image","UploadOutlined","CameraOutlined","axios","jsxDEV","_jsxDEV","UpdateUserModal","visible","onClose","_s","file","setFile","previewImage","setPreviewImage","previewVisible","setPreviewVisible","loading","setLoading","handleFileChange","originFileObj","URL","createObjectURL","handleUpload","alert","formData","FormData","append","post","headers","error","console","title","open","onCancel","onOk","confirmLoading","okText","cancelText","centered","children","listType","maxCount","showUploadList","beforeUpload","onChange","style","textAlign","position","display","width","src","alt","borderRadius","boxShadow","cursor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","bottom","right","background","color","padding","fontSize","icon","height","border","alignItems","justifyContent","fontWeight","footer","_c","$RefreshReg$"],"sources":["C:/Users/mrpat/eduonix/MERN FULL STACK/Task Collaboration Platform/client/src/components/model/UpdateUserModal.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Modal, Upload, Button, Image } from \"antd\";\r\nimport { UploadOutlined, CameraOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\nconst UpdateUserModal = ({ visible, onClose }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Handle File Change in Upload Component\r\n  const handleFileChange = ({ file }) => {\r\n    if (file.originFileObj) {\r\n      setFile(file.originFileObj);\r\n      setPreviewImage(URL.createObjectURL(file.originFileObj));\r\n    }\r\n  };\r\n\r\n  // Handle File Upload API Call\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      return alert(\"Please select a file!\");\r\n    }\r\n\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append(\"profileImage\", file);\r\n\r\n    try {\r\n      await axios.post(\"http://localhost:5000/api/update-user\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      alert(\"Upload Successful!\");\r\n      onClose(); // Close modal on success\r\n    } catch (error) {\r\n      console.error(\"Upload Error:\", error);\r\n      alert(\"Upload Failed!\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Update Profile Image\"\r\n      open={visible}\r\n      onCancel={onClose}\r\n      onOk={handleUpload}\r\n      confirmLoading={loading}\r\n      okText=\"Upload\"\r\n      cancelText=\"Cancel\"\r\n      centered\r\n    >\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        maxCount={1}\r\n        showUploadList={false}\r\n        beforeUpload={() => false} // Prevent automatic upload\r\n        onChange={handleFileChange}\r\n        style={{ textAlign: \"center\" }}\r\n      >\r\n        {previewImage ? (\r\n          <div\r\n            style={{\r\n              position: \"relative\",\r\n              display: \"inline-block\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <Image\r\n              src={previewImage}\r\n              alt=\"Preview\"\r\n              style={{\r\n                width: \"100%\",\r\n                borderRadius: \"10px\",\r\n                boxShadow: \"0px 4px 10px rgba(0,0,0,0.2)\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={() => setPreviewVisible(true)}\r\n            />\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                bottom: \"5px\",\r\n                right: \"5px\",\r\n                background: \"rgba(0, 0, 0, 0.5)\",\r\n                color: \"#fff\",\r\n                padding: \"5px\",\r\n                borderRadius: \"5px\",\r\n                fontSize: \"12px\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={() => setPreviewVisible(true)}\r\n            >\r\n              View\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            icon={<CameraOutlined />}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100px\",\r\n              background: \"#f5f5f5\",\r\n              border: \"1px dashed #d9d9d9\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0px 4px 6px rgba(0,0,0,0.1)\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              fontSize: \"16px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#555\",\r\n            }}\r\n          >\r\n            Upload Image\r\n          </Button>\r\n        )}\r\n      </Upload>\r\n\r\n      {/* Image Preview Modal */}\r\n      <Modal\r\n        open={previewVisible}\r\n        footer={null}\r\n        onCancel={() => setPreviewVisible(false)}\r\n      >\r\n        <Image src={previewImage} alt=\"Preview\" style={{ width: \"100%\" }} />\r\n      </Modal>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default UpdateUserModal;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,KAAK,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,QAAQ,MAAM;AACnD,SAASC,cAAc,EAAEC,cAAc,QAAQ,mBAAmB;AAClE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,eAAe,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkB,cAAc,EAAEC,iBAAiB,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACA,MAAMsB,gBAAgB,GAAGA,CAAC;IAAER;EAAK,CAAC,KAAK;IACrC,IAAIA,IAAI,CAACS,aAAa,EAAE;MACtBR,OAAO,CAACD,IAAI,CAACS,aAAa,CAAC;MAC3BN,eAAe,CAACO,GAAG,CAACC,eAAe,CAACX,IAAI,CAACS,aAAa,CAAC,CAAC;IAC1D;EACF,CAAC;;EAED;EACA,MAAMG,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACZ,IAAI,EAAE;MACT,OAAOa,KAAK,CAAC,uBAAuB,CAAC;IACvC;IAEAN,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMO,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAEhB,IAAI,CAAC;IAErC,IAAI;MACF,MAAMP,KAAK,CAACwB,IAAI,CAAC,uCAAuC,EAAEH,QAAQ,EAAE;QAClEI,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACFL,KAAK,CAAC,oBAAoB,CAAC;MAC3Bf,OAAO,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCN,KAAK,CAAC,gBAAgB,CAAC;IACzB,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEZ,OAAA,CAACR,KAAK;IACJkC,KAAK,EAAC,sBAAsB;IAC5BC,IAAI,EAAEzB,OAAQ;IACd0B,QAAQ,EAAEzB,OAAQ;IAClB0B,IAAI,EAAEZ,YAAa;IACnBa,cAAc,EAAEnB,OAAQ;IACxBoB,MAAM,EAAC,QAAQ;IACfC,UAAU,EAAC,QAAQ;IACnBC,QAAQ;IAAAC,QAAA,gBAERlC,OAAA,CAACP,MAAM;MACL0C,QAAQ,EAAC,cAAc;MACvBC,QAAQ,EAAE,CAAE;MACZC,cAAc,EAAE,KAAM;MACtBC,YAAY,EAAEA,CAAA,KAAM,KAAM,CAAC;MAAA;MAC3BC,QAAQ,EAAE1B,gBAAiB;MAC3B2B,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAP,QAAA,EAE9B3B,YAAY,gBACXP,OAAA;QACEwC,KAAK,EAAE;UACLE,QAAQ,EAAE,UAAU;UACpBC,OAAO,EAAE,cAAc;UACvBC,KAAK,EAAE;QACT,CAAE;QAAAV,QAAA,gBAEFlC,OAAA,CAACL,KAAK;UACJkD,GAAG,EAAEtC,YAAa;UAClBuC,GAAG,EAAC,SAAS;UACbN,KAAK,EAAE;YACLI,KAAK,EAAE,MAAM;YACbG,YAAY,EAAE,MAAM;YACpBC,SAAS,EAAE,8BAA8B;YACzCC,MAAM,EAAE;UACV,CAAE;UACFC,OAAO,EAAEA,CAAA,KAAMxC,iBAAiB,CAAC,IAAI;QAAE;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,eACFtD,OAAA;UACEwC,KAAK,EAAE;YACLE,QAAQ,EAAE,UAAU;YACpBa,MAAM,EAAE,KAAK;YACbC,KAAK,EAAE,KAAK;YACZC,UAAU,EAAE,oBAAoB;YAChCC,KAAK,EAAE,MAAM;YACbC,OAAO,EAAE,KAAK;YACdZ,YAAY,EAAE,KAAK;YACnBa,QAAQ,EAAE,MAAM;YAChBX,MAAM,EAAE;UACV,CAAE;UACFC,OAAO,EAAEA,CAAA,KAAMxC,iBAAiB,CAAC,IAAI,CAAE;UAAAwB,QAAA,EACxC;QAED;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,gBAENtD,OAAA,CAACN,MAAM;QACLmE,IAAI,eAAE7D,OAAA,CAACH,cAAc;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QACzBd,KAAK,EAAE;UACLI,KAAK,EAAE,MAAM;UACbkB,MAAM,EAAE,OAAO;UACfL,UAAU,EAAE,SAAS;UACrBM,MAAM,EAAE,oBAAoB;UAC5BhB,YAAY,EAAE,MAAM;UACpBC,SAAS,EAAE,6BAA6B;UACxCL,OAAO,EAAE,MAAM;UACfqB,UAAU,EAAE,QAAQ;UACpBC,cAAc,EAAE,QAAQ;UACxBL,QAAQ,EAAE,MAAM;UAChBM,UAAU,EAAE,MAAM;UAClBR,KAAK,EAAE;QACT,CAAE;QAAAxB,QAAA,EACH;MAED;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IACT;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,eAGTtD,OAAA,CAACR,KAAK;MACJmC,IAAI,EAAElB,cAAe;MACrB0D,MAAM,EAAE,IAAK;MACbvC,QAAQ,EAAEA,CAAA,KAAMlB,iBAAiB,CAAC,KAAK,CAAE;MAAAwB,QAAA,eAEzClC,OAAA,CAACL,KAAK;QAACkD,GAAG,EAAEtC,YAAa;QAACuC,GAAG,EAAC,SAAS;QAACN,KAAK,EAAE;UAAEI,KAAK,EAAE;QAAO;MAAE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEZ,CAAC;AAAClD,EAAA,CA9HIH,eAAe;AAAAmE,EAAA,GAAfnE,eAAe;AAgIrB,eAAeA,eAAe;AAAC,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}